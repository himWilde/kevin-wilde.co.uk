var kw;!function(a,b,c,d,e){var f,g,h,i,j,k,l,m=!1,n=!1,o=!1;return g=function(a){b.getJSON(a,function(a){f(a)})},i=function(){b(".fa-search").on("click",function(){m||(h=b(".thumb").index(b(this).parent(".thumb")),n?(b(".fa-times-circle").click(),o=!0):g(b(this).data("href")))})},resize=function(){var a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;a>1034?(j="desktop",k=3):a>674&&1034>=a?(j="tablet",k=2):674>=a&&(j="mobile",k=1),n&&(b(".thumb").removeClass("hide"),setThumbOffset(),setProjectOffset(),hideThumbs())},hideThumbs=function(){for(var a=l;l+2*k>a;a++)b(".thumb").eq(a).addClass("hide")},setThumbOffset=function(){l=h>b(".thumb").length-1-k?Math.floor((h-k)/k)*k:Math.floor(h/k)*k},setProjectOffset=function(){var a;a=h>b(".thumb").length-1-k?320*Math.floor((h-k)/k)+20:320*Math.floor(h/k)+20,b(".project").css({top:a})},growEnd=function(){setThumbOffset(),b(this).off("animationend").off("oanimationend").off("MSAnimationEnd").off("webkitAnimationEnd"),hideThumbs(),m=!1},shrinkEnd=function(){b(this).remove().off("animationend").off("oanimationend").off("MSAnimationEnd").off("webkitAnimationEnd"),o?(f(),o=!1):n=!1,m=!1},doTools=function(a){for(var b=a.split(","),c="",d=0;d<b.length;d++)c+=d<b.length-1?b[d]+", ":b[d]+".";return c},f=function(a){var c;n=!0,m=!0,b(".thumbnails").append('<section class="project"></section>'),c=b(".project"),setProjectOffset(),c.addClass("grow-in").on("animationend",growEnd).on("oanimationend",growEnd).on("MSAnimationEnd",growEnd).on("webkitAnimationEnd",growEnd),doTools(a.tools),c.append('<div class="info"><h4>'+a.title+'</h4><p class="small">Agency</p><p>'+a.agency+'</p><p class="small">Client</p><p>'+a.client+'</p><p class="small">Overview</p><p>'+a.overview+'</p><p class="small">Responsibilites</p><p>'+a.responsibilites+'</p><p class="small">Tools used</p><p>'+doTools(a.tools)+'</p><a href="'+a.url+'" target="_blank">'+a.visit+'</a></div><div class="carousel"><div class="controls"><i class="fa fa-chevron-left arrow"></i><i class="fa fa-chevron-right arrow"></i></div><div class="window"></div></div><i class="fa fa-times-circle"></i>'),"null"===a.url&&c.find("a").addClass("disabled").on("click",function(){return!1});for(var d=0;d<a.images.length;d++)c.find(".window").append('<img src="'+a.images[d]+'" alt="" />');c.find(".carousel").carousel(),c.on("click",".fa-times-circle",function(){m||(m=!0,c.addClass("grow-out").on("animationend",shrinkEnd).on("oanimationend",shrinkEnd).on("MSAnimationEnd",shrinkEnd).on("webkitAnimationEnd",shrinkEnd),b(".thumb").removeClass("hide"))})},a.init=function(){i(),resize(),window.onresize=resize},b(a.init),a}(kw=kw||{},jQuery,window,document,void 0),$.fn.carousel=function(){var a,b,c=this,d=c.find("img"),e=0,f=!1;d.eq(0).addClass("active"),a=function(a){$(this).hasClass("fa-chevron-right")&&!f?(d.eq(e).animate({left:-428}),e++,e>d.length-1&&(e=0),d.eq(e).addClass("active").css({left:428}).animate({left:0},resetAnimation)):f||(d.eq(e).animate({left:428}),e--,0>e&&(e=d.length-1),d.eq(e).addClass("active").css({left:-428}).animate({left:0},resetAnimation)),b(),f=!0},b=function(){c.find(".pagi").removeClass("active").eq(e).addClass("active")},resetAnimation=function(){f=!1};for(var g=0;g<d.length;g++)c.find(".fa-chevron-left").after('<i class="fa pagi"></i>');c.find(".pagi").eq(0).addClass("active"),c.on("click",".arrow",a)};