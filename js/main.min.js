var kw;!function(a,b){var c,d,e,f,g,h,i,j=!1,k=!1,l=!1;return d=function(a){b.getJSON(a,function(a){c(a)})},f=function(){b(".fa-search").on("click",function(){j||(e=b(".thumb").index(b(this).parent(".thumb")),k?(b(".fa-times-circle").click(),l=!0):d(b(this).data("href")))})},resize=function(){var a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;a>1034?(g="desktop",h=3):a>674&&1034>=a?(g="tablet",h=2):674>=a&&(g="mobile",h=1),k&&(b(".thumb").removeClass("hide"),setThumbOffset(),setProjectOffset(),hideThumbs())},hideThumbs=function(){for(var a=i;i+2*h>a;a++)b(".thumb").eq(a).addClass("hide")},setThumbOffset=function(){i=e>b(".thumb").length-1-h?Math.floor((e-h)/h)*h:Math.floor(e/h)*h},setProjectOffset=function(){var a;a=e>b(".thumb").length-1-h?320*Math.floor((e-h)/h)+20:320*Math.floor(e/h)+20,b(".project").css({top:a})},growEnd=function(){setThumbOffset(),b(this).off("animationend").off("oanimationend").off("MSAnimationEnd").off("webkitAnimationEnd"),hideThumbs(),j=!1},shrinkEnd=function(){b(this).remove().off("animationend").off("oanimationend").off("MSAnimationEnd").off("webkitAnimationEnd"),l?(c(),l=!1):k=!1,j=!1},doTools=function(a){for(var b=a.split(","),c="",d=0;d<b.length;d++)c+=d<b.length-1?b[d]+", ":b[d]+".";return c},c=function(a){var c;k=!0,j=!0,b(".thumbnails").append('<section class="project"></section>'),c=b(".project"),setProjectOffset(),c.addClass("grow-in").on("animationend",growEnd).on("oanimationend",growEnd).on("MSAnimationEnd",growEnd).on("webkitAnimationEnd",growEnd),doTools(a.tools),c.append('<div class="info"><h4>'+a.title+'</h4><p class="small">Agency</p><p>'+a.agency+'</p><p class="small">Client</p><p>'+a.client+'</p><p class="small">Overview</p><p>'+a.overview+'</p><p class="small">Responsibilites</p><p>'+a.responsibilites+'</p><p class="small">Tools used</p><p>'+doTools(a.tools)+'</p><a href="'+a.url+'" target="_blank">'+a.visit+'</a></div><div class="carousel"><div class="controls"><i class="fa fa-chevron-left arrow"></i><i class="fa fa-chevron-right arrow"></i></div><div class="window"></div></div><i class="fa fa-times-circle"></i>'),"null"===a.url&&c.find("a").addClass("disabled").on("click",function(){return!1});for(var d=0;d<a.images.length;d++)c.find(".window").append('<img src="'+a.images[d]+'" alt="" />');c.find(".carousel").carousel(),c.on("click",".fa-times-circle",function(){j||(j=!0,c.addClass("grow-out").on("animationend",shrinkEnd).on("oanimationend",shrinkEnd).on("MSAnimationEnd",shrinkEnd).on("webkitAnimationEnd",shrinkEnd),b(".thumb").removeClass("hide"))})},a.init=function(){f(),resize(),window.onresize=resize},b(a.init),a}(kw=kw||{},jQuery,window,document,void 0),$.fn.carousel=function(){var a,b,c=this,d=c.find("img"),e=0,f=!1;d.eq(0).addClass("active"),a=function(){$(this).hasClass("fa-chevron-right")&&!f?(d.eq(e).animate({left:-428}),e++,e>d.length-1&&(e=0),d.eq(e).addClass("active").css({left:428}).animate({left:0},resetAnimation)):f||(d.eq(e).animate({left:428}),e--,0>e&&(e=d.length-1),d.eq(e).addClass("active").css({left:-428}).animate({left:0},resetAnimation)),b(),f=!0},b=function(){c.find(".pagi").removeClass("active").eq(e).addClass("active")},resetAnimation=function(){f=!1};for(var g=0;g<d.length;g++)c.find(".fa-chevron-left").after('<i class="fa pagi"></i>');c.find(".pagi").eq(0).addClass("active"),c.on("click",".arrow",a)};